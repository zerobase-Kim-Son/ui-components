<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <style>
    .themed {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 200px;
      height: 100px;
      background-color: rgb(250, 250, 250);
    }

    .themed::after {
      content: 'Light mode(default)';
    }

    @media (prefers-color-scheme: dark) {
      .themed {
        background-color: #000;
        color: #fff;
      }

      .themed::after {
        content: 'Dark mode detacked';
      }
    }
  </style>
  <script defer src="app.js"></script>
</head>

<body>
  <div class="themed"></div>
  <script>
    // https://web.dev/prefers-color-scheme
    // https://caniuse.com/?search=prefers-color-scheme
    const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    console.log(darkModeMediaQuery);
    // MediaQueryList {media: "(prefers-color-scheme: dark)", matches: true, onchange: null}

    darkModeMediaQuery.addListener(e => {
      const darkModeOn = e.matches;
      console.log(`Dark mode is ${darkModeOn ? '🌒 on' : '☀️ off'}.`);
    });
  </script>
</body>

</html>